@model IEnumerable<StudentModel>



<div class="row">
    <div class="col-3">
        <div class="input-group">
            <input type="text" class="form-control" placeholder="Search for Student" id="studentTextField" />
            <button class="btn btn-primary" onclick="SearchStudent()">Search</button>
        </div>
    </div>
    <div class="col-3">
        <div class="btn-group">
            <div class="dropdown">
                <button class="btn btn-primary dropdown-toggle" type="button" id="printdropdownmenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Print Grade
                </button>
                <div class="dropdown-menu" aria-labelledby="printdropdownmenu">
                    <button class="dropdown-item" type="button" name="grade" value="PK">Pre-K</button>
                    <button class="dropdown-item" type="button" onclick="PrintGradeLevel('KG')">Kindergarden</button>
                    <button class="dropdown-item" type="button" onclick="PrintGradeLevel('01')">1st</button>
                    <button class="dropdown-item" type="button" onclick="PrintGradeLevel('02')">2nd</button>
                    <button class="dropdown-item" type="button" onclick="PrintGradeLevel('03')">3rd</button>
                    <button class="dropdown-item" type="button" onclick="PrintGradeLevel('04')">4th</button>
                    <button class="dropdown-item" type="button" onclick="PrintGradeLevel('05')">5th</button>
                    <button class="dropdown-item" type="button" onclick="PrintGradeLevel('06')">6th</button>
                    <button class="dropdown-item" type="button" onclick="PrintGradeLevel('07')">7th</button>
                    <button class="dropdown-item" type="button" onclick="PrintGradeLevel('08')">8th</button>
                    <button class="dropdown-item" type="button" onclick="PrintGradeLevel('09')">9th</button>
                    <button class="dropdown-item" type="button" onclick="PrintGradeLevel('10')">10th</button>
                    <button class="dropdown-item" type="button" onclick="PrintGradeLevel('11')">11th</button>
                    <button class="dropdown-item" type="button" onclick="PrintGradeLevel('12')">12th</button>
                </div>
            </div>
            <div class="dropdown">
                <button class="btn btn-primary dropdown-toggle" type="button" id="downloaddropdownmeny" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Download Grade
                </button>
                <div class="dropdown-menu" aria-labelledby="downloaddropdownmeny">
                    @using (Html.BeginForm("DownloadGradeLevel", "Admin", FormMethod.Post))
                    {
                        <button class="dropdown-item" type="button" onclick="DownloadGradeLevel('PK')">Pre-K</button>
                        <button class="dropdown-item" type="button" onclick="DownloadGradeLevel('KG')">Kindergarden</button>
                        <button class="dropdown-item" type="submit" name="grade" value="01">1st</button>
                        <button class="dropdown-item" type="button" onclick="DownloadGradeLevel('02')">2nd</button>
                        <button class="dropdown-item" type="button" onclick="DownloadGradeLevel('03')">3rd</button>
                        <button class="dropdown-item" type="button" onclick="DownloadGradeLevel('04')">4th</button>
                        <button class="dropdown-item" type="button" onclick="DownloadGradeLevel('05')">5th</button>
                        <button class="dropdown-item" type="button" onclick="DownloadGradeLevel('06')">6th</button>
                        <button class="dropdown-item" type="button" onclick="DownloadGradeLevel('07')">7th</button>
                        <button class="dropdown-item" type="button" onclick="DownloadGradeLevel('08')">8th</button>
                        <button class="dropdown-item" type="button" onclick="DownloadGradeLevel('09')">9th</button>
                        <button class="dropdown-item" type="button" onclick="DownloadGradeLevel('10')">10th</button>
                        <button class="dropdown-item" type="button" onclick="DownloadGradeLevel('11')">11th</button>
                        <button class="dropdown-item" type="button" onclick="DownloadGradeLevel('12')">12th</button>
                    }
                </div>
            </div>
            @using (Html.BeginForm("DownloadByHomeroom", "Admin", FormMethod.Post))
            {
                <div>
                    <button type="submit" class="btn btn-success"><i class='fa fa-file'>Download</i></button>
                </div>
            }
        </div>
    </div>
</div>
<div>
    @if (Model.Count() > 0)
    {
        <table class="table">
            <thead>
                <tr>
                    <th>
                        Student ID:
                    </th>
                    <th>
                        Last Name:
                    </th>
                    <th>
                        First Name:
                    </th>
                    <th>
                        Email:
                    </th>
                    <th>
                        QR Code:
                    </th>
                    <th>
                        Homeroom Teacher:
                    </th>
                    <th>
                        Grade Level:
                        <i class="bi bi-sort-up"></i>
                    </th>
                    <th>
                        Action
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.StudentID)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.LastName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.FirstName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Email)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.QrCode)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.HomeRoomTeacher)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.GradeLevel)
                        </td>
                        <td>
                            @if (User.IsInRole("Admin"))
                            {
                                @using (Html.BeginForm("SaveID", "Admin", FormMethod.Post))
                                {
                                    <div>
                                        <button type="submit" class="btn btn-success" name="id" value="@item.ID"><i class='fa fa-file'>Download</i></button>
                                    </div>
                                }
                            }
                            else
                            {
                                @if (item.IdRequestPrinted)
                                {
                                    <div>
                                        <button type="submit" class="btn btn-success" name="id" onclick="RequestIdPrint(@item.ID, this)"><i class='fa fa-file'>Request Print</i></button>
                                    </div>
                                }
                                else
                                {
                                    <div>
                                        <button type="submit" class="btn btn-danger" disabled name="id" onclick="RequestIdPrint(@item.ID, this)"><i class='fa fa-file'>Request Print</i></button>
                                    </div>
                                }
                            }
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
</div>
<div>

</div>